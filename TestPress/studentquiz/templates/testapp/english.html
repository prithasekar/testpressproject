<!DOCTYPE html>
{%load static%}
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <title>English Qns1</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Uchen&display=swap" rel="stylesheet">
    <script>
      $(document).ready(function(){
      $("#b1").click(function(){
        $(".rb").show();
        $(".rb").attr("disabled",true);
      });

    });
      function getanswers()
      {
        document.getElementById("UserAnswers").innerHTML="";
        var e=document.getElementsByTagName("input");
        for(i=0; i<=e.length;i++)
        {
          if(e[i].type=="radio")
          {
            if(e[i].checked)
            {
              document.getElementById("UserAnswers").innerHTML+="Q "+e[i].name +" The Answer you selected is : "+e[i].value+"<br>";
            }
          }
        }
      }
    </script>
    <style media="screen">
      .jumbotron
      {
        margin-top: 50px;
      }
    </style>
  </head>
  <body>
    <div class="container"><br><br>
      <div align="right " id="displaytimer"><b>Timer: 0 seconds</b></div>
      <div class="jumbotron">
        <div class="container">
          <h2 id="h2" align='center'>ENGLISH QUIZ</h2>
          <hr style="height:2px;border-width:0;color:gray;background-color:gray">

          <div class="col-lg-8 border border-success p-4 m-4 mx-auto">
            {%for i in questions%}
            <h2>{{i.question}}</h2>
            <table>
              <tr>
                <td><input type="radio" class="rb" id="option1" name="name" value="{{i.option1}}" required>{{i.option1}}</td>
              </tr>
              <tr>
                <td><input type="radio" class="rb" id="option2" name="name" value="{{i.option2}}" required>{{i.option2}} </td>
              </tr>
              <tr>
                <td><input type="radio" class="rb" id="option3" name="name" value="{{i.option3}}" required>{{i.option3}} </td>
              </tr>
              <tr>
                <td><input type="radio" class="rb" id="option4" name="name" value="{{i.option4}}" required>{{i.option4}} </td>
              </tr>
              <tr>
                <td id="corans" class="rb" style="display:none; color: green"><b>{{i.crtanswer}}</b></td>
              </tr>
            </table>
              {%endfor%}
              <input class="btn btn-success" type="submit" id="b1" onclick="getanswers()">
                  <br>
                <b id="UserAnswers"></b>

          <input id='timer' type='hidden' name="timer" value="">
    <br>

          <div class="paginator">
            <div class="form-group">
              {% if questions.has_next %}
                <a href="?page={{questions.next_page_number}}"> <button class="btn form-control btn-primary" type="button" id="submitAnswer">Next</button></a>
              {%else%}
                <a href="/result"> <button class="btn form-control btn-success" id="submitAnswer" type="button">Submit Quiz</button> </a>
              {%endif%}
            </div>
          </div>
          {% block script %}
        <script>

            console.log('hello world')
            const timer=document.getElementById('displaytimer')
            console.log(timer.textContent)
            const inputtag = document.getElementById('timer')

            t=0
            setInterval(()=>{
                t+=1
                timer.innerHTML ="<b>Timer: " +t+" seconds</b>"
                inputtag.value = t
            },1000)
        </script>
    {% endblock script %}

</div>



          </div>
          <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
          <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
        </div>
        </div>
      </div>
  </body>
</html>
